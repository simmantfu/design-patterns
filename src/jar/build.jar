package com.pck;

import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Map;
import java.util.Objects;
import java.util.Set;
import java.util.Map.Entry;
import java.util.concurrent.TimeUnit;

import javax.xml.ws.FaultAction;

public class Main2 {

	static Map<String, String> map = new HashMap<>();
	static Map<String, String> map2 = new HashMap<>();
	static Set<String> set = new HashSet<>();

	static String preparemap(String key) {

		String finalString = "";

		map.put("1", "/:.@ ");
		map.put("2", "ABC");
		map.put("3", "DEF");
		map.put("4", "GHI");
		map.put("5", "JKL");
		map.put("6", "MNO");
		map.put("7", "PQRS");
		map.put("8", "TUV");
		map.put("9", "WXYZ");

		if (!key.startsWith("PAN")) {
			String[] sarray = key.split(",");
			String resultString = map.get(sarray[0]);

			finalString = resultString.toCharArray()[Integer.parseInt(sarray[1])] + "";
		}

		if (key.startsWith("PAN")) {
			finalString = key.replace("PAN", "");
		}

		return finalString;
	}

	static String preparemap2(String key) {

		String finalString = "";

		map2.put("1", "A");
		map2.put("2", "B");
		map2.put("3", "C");
		map2.put("4", "D");
		map2.put("5", "E");
		map2.put("6", "F");
		map2.put("7", "G");
		map2.put("8", "H");
		map2.put("9", "I");
		map2.put("10", "J");
		map2.put("11", "K");
		map2.put("12", "L");
		map2.put("13", "M");
		map2.put("14", "N");
		map2.put("15", "O");
		map2.put("16", "P");
		map2.put("17", "Q");
		map2.put("18", "R");
		map2.put("19", "S");
		map2.put("20", "T");
		map2.put("21", "U");
		map2.put("22", "V");
		map2.put("23", "W");
		map2.put("24", "X");
		map2.put("25", "Y");
		map2.put("26", "Z");
		map2.put("27", "/");
		map2.put("28", ":");
		map2.put("29", ".");
		map2.put("30", "@");
		map2.put("31", " ");
		map2.put("32", "-");
		if (!key.startsWith("AGE")) {
			finalString = map2.get(key);
		}
		if (key.startsWith("AGE")) {
			finalString = key.replace("AGE", "");
		}
		return finalString;

	}

	public static String getCountry(String s) throws Exception {

		String finalString = "";
		if (!s.startsWith("CAR")) {
			BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("f3.txt")));
			Map<String, String> map = new HashMap<>();
			String ss = "";
			while ((ss = br.readLine()) != null) {
				ss = ss.replace(" ", "");
				set.add(ss);
				map.put(ss.toUpperCase(), ss.toCharArray()[ss.toCharArray().length - ss.toCharArray().length] + "");
			}

			// Set<Map.Entry<String, String>> entry = map.entrySet();

			// map.forEach((k,v)->System.out.println("key is :"+k+" value is
			// :"+v));

			finalString = map.get(s);
		} if(s.startsWith("CAR")) {
			finalString = s.replace("CAR", "");
		}
		return finalString;

	}

	public static String replacer(String string){
		
		string = string.replaceAll("car ", "carspace");
		string = string.replaceAll("age ", "agespace");
		string = string.replaceAll("pan ", "panspace");
		
		return string;
	}
	
	
	public static void main(String[] args) throws Exception {
		// TODO Auto-generated method stub
		String test = "Syria 9 6,0 Myanmar 1 6,1 Tuvalu";
		test = replacer(test);
		String[] msgarray = test.split(" ");
		String msg = "";

		long startTime = System.currentTimeMillis();
		for (int i = 0, j = 0; i <= msgarray.length - 1; i++, j++) {

			if (j > 2) {
				j = 0;
			}

			if (j == 0) {
				msg = msg + " " + getCountry(new String(msgarray[i] + "").toUpperCase());

			}
			if (j == 1) {
				msg = msg + " " + preparemap2(new String(msgarray[i] + "").toUpperCase());
			}

			if (j == 2) {
				msg = msg + " " + preparemap(new String(msgarray[i] + "").toUpperCase());
			}

		}

		long stopTime = System.currentTimeMillis();
		long elapsedTime = stopTime - startTime;

		System.out.println("time taken : " + TimeUnit.SECONDS.convert(elapsedTime, TimeUnit.NANOSECONDS));

		// System.out.println(1e+9);

		System.out.println(msg);

	}

}
